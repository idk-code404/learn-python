/* ========== Learn Python â€” Global Styles ========== */

/* Color tokens */
:root{
  --bg: #fafafa;
  --muted: #666;
  --primary: #2c3e50;
  --accent: #27ae60;
  --blue: #3498db;
  --green: #2ecc71;
  --card-bg: #ffffff;
  --toc-bg: #f4f4f4;
  --surface-border: rgba(0,0,0,0.06);
}

/* Base */
* { box-sizing: border-box; }
html,body { height: 100%; }
body {
  margin: 0;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: var(--bg);
  color: var(--primary);
  line-height: 1.6;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  padding-bottom: 40px;
}

/* Links */
a { color: var(--primary); text-decoration: none; }
a:hover { text-decoration: underline; }

/* Headings */
h1,h2,h3 { margin: 0 0 .5rem 0; font-weight: 700; color: var(--primary); }
h1 { font-size: 1.6rem; }
h2 { font-size: 1.15rem; }
h3 { font-size: 1rem; }

/* Utility containers */
.container {
  max-width: 1100px;
  margin: 0 auto;
  padding: 0 16px;
}

/* Simple nav (used on index pages) */
nav { margin: 12px 0; }
nav a { margin-right: 16px; font-weight: 700; color: var(--primary); }
nav a:hover { color: var(--blue); }

/* Generic cards / lesson blocks */
.lesson {
  border: 1px solid rgba(0,0,0,0.06);
  background: var(--card-bg);
  padding: 14px;
  margin: 12px 0;
  border-radius: 10px;
  box-shadow: 0 4px 14px rgba(16,24,40,0.03);
}

.lesson pre {
  background: #f6f8fa;
  padding: 10px;
  border-radius: 8px;
  overflow-x: auto;
  margin: 10px 0;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
  font-size: 13px;
}

/* Buttons */
button, .btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  border: none;
  padding: 8px 12px;
  border-radius: 8px;
  font-weight: 600;
  background: var(--blue);
  color: white;
  transition: transform .12s ease, box-shadow .12s ease, opacity .12s ease;
}
button:hover, .btn:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(16,24,40,0.06); }
button:active { transform: translateY(0); }

button.close-btn { background: transparent; color: var(--primary); box-shadow: none; }

/* Specific button variants */
button.playground-open { background: var(--green); }
button.try-copy { background: var(--blue); }

/* Quiz */
.quiz { margin-top: 10px; }
.quiz button {
  margin: 6px 6px 6px 0;
  background: #eef6ff;
  color: var(--primary);
  font-weight: 600;
  padding: 6px 10px;
  border-radius: 8px;
  border: 1px solid rgba(0,0,0,0.04);
}
.quiz button:hover { background: #e1f0ff; }

/* ========== Header with mini-nav & back button ========== */
.page-header {
  background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(250,250,250,0.9));
  border-bottom: 1px solid var(--surface-border);
  padding: 12px 16px;
  position: sticky;
  top: 0;
  z-index: 60;
  backdrop-filter: blur(4px);
}

.header-inner {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  gap: 12px;
  align-items: center;
  justify-content: space-between;
}

/* Brand (title + lead) */
.brand h1 { font-size: 1.05rem; margin-bottom: 4px; }
.brand .lead { margin: 0; font-size: 0.85rem; color: var(--muted); }

/* Header action area */
.header-actions {
  display: flex;
  gap: 12px;
  align-items: center;
}

/* Back button */
.back-btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  background: var(--card-bg);
  color: var(--primary);
  border: 1px solid rgba(44,62,80,0.06);
  padding: 8px 12px;
  border-radius: 10px;
  text-decoration: none;
  font-weight: 700;
  box-shadow: 0 6px 18px rgba(16,24,40,0.04);
  transition: transform .12s, box-shadow .12s;
  white-space: nowrap;
}
.back-btn .arrow { font-size: 1rem; opacity: 0.95; }
.back-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(16,24,40,0.06); }

/* Mini nav */
.mini-nav {
  display: flex;
  gap: 8px;
  align-items: center;
  background: rgba(255,255,255,0.95);
  padding: 6px;
  border-radius: 10px;
  border: 1px solid rgba(44,62,80,0.06);
  box-shadow: 0 3px 10px rgba(16,24,40,0.03);
}
.mini-nav-link {
  text-decoration: none;
  color: var(--primary);
  font-weight: 700;
  padding: 6px 10px;
  border-radius: 8px;
  font-size: 0.95rem;
  transition: background .12s, transform .12s, color .12s;
}
.mini-nav-link:hover { background: rgba(46,204,113,0.06); color: var(--accent); transform: translateY(-2px); }
.mini-nav-link[aria-current="page"], .mini-nav-link.active {
  background: var(--green);
  color: #fff;
  box-shadow: 0 8px 20px rgba(46,204,113,0.12);
}

/* ========== Main layout: sidebar TOC + lessons ========== */

#lessons-wrapper {
  display: flex;
  align-items: flex-start;
  gap: 20px;
  max-width: 1200px;
  margin: 20px auto;
  padding: 0 16px;
}

/* TOC sidebar */
#toc {
  background: var(--toc-bg);
  border: 1px solid var(--surface-border);
  padding: 14px;
  border-radius: 10px;
  width: 240px;
  height: calc(100vh - 120px);
  overflow-y: auto;
  position: sticky;
  top: 72px; /* below header */
  flex-shrink: 0;
}
#toc h2 { font-size: 1rem; text-align: center; margin-bottom: 8px; }
#toc ul { list-style: none; padding: 0; margin: 0; }
#toc li { margin: 6px 0; }
#toc a {
  display: block;
  padding: 6px 8px;
  border-radius: 6px;
  color: var(--primary);
  text-decoration: none;
  font-weight: 600;
}
#toc a:hover { background: rgba(46,204,113,0.06); color: var(--accent); }
#toc a.active { background: var(--accent); color: #fff; }

/* Tips block under TOC */
#toc-tips { margin-top: 14px; padding-top: 10px; border-top: 1px solid rgba(0,0,0,0.06); }
#toc-tips h3 { font-size: .95rem; margin: 6px 0 8px; text-align: center; }
#toc-tips ul { list-style: none; margin: 0; padding: 0; }
#toc-tips li { padding: 6px 4px; border-radius: 6px; font-size: 13px; color: var(--primary); }
#toc-tips .tip-text { display: inline-block; max-width: 200px; overflow-wrap: anywhere; }
#toc-tips .tips-note { margin-top: 8px; font-size: 12px; color: var(--muted); text-align: center; }

/* Lessons column */
#lessons { flex: 1; min-width: 0; }

/* Category blocks inside lessons column */
.category { margin-bottom: 20px; padding: 6px 0; }
.category .category-header {
  cursor: pointer;
  background: transparent;
  padding: 6px 8px;
  border-radius: 6px;
  font-weight: 700;
  color: var(--primary);
}
.category.collapsed .lessons-list { display: none; }
.lessons-list { padding-top: 8px; }

/* Small lesson preview card inside categories */
.lesson h3 { margin-bottom: 6px; font-size: 1rem; }
.lesson p { margin: 0 0 8px 0; color: var(--muted); font-size: 0.95rem; }

/* Progress (used in dashboard pages) */
.progress-summary { text-align: center; margin-bottom: 1.5rem; }
.progress-bar { width: 100%; background: #eee; border-radius: 20px; overflow: hidden; height: 20px; box-shadow: inset 0 2px 6px rgba(0,0,0,0.04); }
.progress-fill { height: 100%; width: 0; background: linear-gradient(90deg,var(--green), #2e7d32); transition: width .6s ease; }

/* Lesson grid (dashboard) */
.lessons-list.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(190px, 1fr));
  gap: 12px;
}
.lesson-card {
  background: var(--card-bg);
  padding: 12px;
  border-radius: 10px;
  text-align: center;
  border: 1px solid rgba(0,0,0,0.04);
  box-shadow: 0 4px 12px rgba(16,24,40,0.03);
}
.lesson-card.completed { border: 2px solid var(--green); background: #f6fff6; }

/* Responsive tweaks */
@media (max-width: 980px) {
  #toc { width: 200px; height: calc(100vh - 120px); top: 64px; }
  .brand h1 { font-size: 0.98rem; }
}

@media (max-width: 820px) {
  #lessons-wrapper { flex-direction: column; padding: 0 12px; margin-top: 12px; }
  #toc { width: 100%; height: auto; position: relative; top: 0; }
  .header-inner { flex-direction: column; align-items: stretch; gap: 10px; }
  .mini-nav { order: 1; }
  .back-btn { order: 2; justify-self: end; }
  .lesson pre { font-size: 12px; }
}

/* Toast (copy notifications) */
#toast-notice {
  position: fixed;
  bottom: 22px;
  right: 22px;
  padding: 10px 14px;
  background: rgba(0,0,0,0.85);
  color: white;
  border-radius: 8px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.18);
  z-index: 9999;
  font-weight: 600;
  opacity: 0;
  transition: opacity .2s ease;
}

/* Playground iframe responsive (if used inline) */
.playground-frame {
  width: 100%;
  border: none;
  border-radius: 10px;
  box-shadow: 0 6px 20px rgba(16,24,40,0.06);
  min-height: 420px;
  display: block;
}

/* Minor helpers */
.kv { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace; font-size: 0.95rem; }
.small { font-size: 0.9rem; color: var(--muted); }
.center { text-align: center; }

/* End of stylesheet */
